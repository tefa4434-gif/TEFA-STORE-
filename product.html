<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬ | TEFA STORE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: #f5f5f5;
      color: #111827;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: #111827;
      color: #fff;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    header .title {
      font-weight: 700;
      font-size: 18px;
    }

    header a {
      color: #fff;
      text-decoration: none;
      font-size: 14px;
    }

    main {
      max-width: 700px;
      margin: 0 auto;
      padding: 16px 12px 24px;
    }

    .card {
      background: #ffffff;
      border-radius: 18px;
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.07);
      padding: 14px 14px 18px;
    }

    .product-image {
      width: 100%;
      border-radius: 16px;
      object-fit: cover;
      max-height: 520px;
      background: #e5e7eb;
    }

    .product-name {
      margin-top: 14px;
      font-size: 22px;
      font-weight: 800;
      letter-spacing: 0.03em;
    }

    .price-row {
      margin-top: 6px;
      display: flex;
      gap: 10px;
      align-items: baseline;
    }

    .price {
      font-size: 24px;
      font-weight: 800;
      color: #16a34a;
    }

    .old-price {
      font-size: 14px;
      color: #9ca3af;
      text-decoration: line-through;
    }

    .desc {
      margin-top: 10px;
      line-height: 1.6;
      font-size: 15px;
      color: #374151;
    }

    .section-title {
      margin-top: 18px;
      margin-bottom: 6px;
      font-weight: 700;
      font-size: 15px;
    }

    .colors-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .color-dot {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 2px solid #e5e7eb;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;
    }

    .color-inner {
      width: 22px;
      height: 22px;
      border-radius: 999px;
    }

    .color-dot.selected {
      transform: scale(1.08);
      border-color: #111827;
      box-shadow: 0 0 0 3px rgba(15, 23, 42, 0.15);
    }

    .qty-row {
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .qty-controls {
      display: flex;
      align-items: center;
      border-radius: 999px;
      border: 1px solid #d1d5db;
      overflow: hidden;
    }

    .qty-btn {
      width: 36px;
      height: 36px;
      border: none;
      background: #f3f4f6;
      cursor: pointer;
      font-size: 20px;
    }

    .qty-value {
      width: 40px;
      text-align: center;
      font-size: 16px;
    }

    .add-btn {
      margin-top: 18px;
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 14px;
      font-size: 18px;
      font-weight: 700;
      background: #111827;
      color: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      box-shadow: 0 10px 20px rgba(15, 23, 42, 0.35);
    }

    .add-btn:active {
      transform: translateY(1px);
      box-shadow: 0 5px 12px rgba(15, 23, 42, 0.3);
    }

    .toast {
      position: fixed;
      bottom: 18px;
      left: 50%;
      transform: translateX(-50%) translateY(120%);
      background: #111827;
      color: #fff;
      padding: 12px 18px;
      border-radius: 999px;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.35);
      transition: transform 0.25s ease;
      z-index: 40;
      white-space: nowrap;
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
    }

    footer {
      max-width: 700px;
      margin: 0 auto;
      padding: 10px 12px 18px;
      font-size: 13px;
      text-align: center;
      color: #6b7280;
    }

    footer a {
      color: #111827;
      text-decoration: none;
      font-weight: 600;
    }
  </style>
</head>
<body>
<header>
  <a href="index.html">Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
  <div class="title">TEFA STORE</div>
</header>

<main>
  <div class="card">
    <img id="product-image" class="product-image" src="rozalin-main.jpg" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬" />

    <h1 id="product-name" class="product-name">Ø·Ù‚Ù… Ø±ÙˆØ²Ø§Ù„ÙŠÙ† 3 Ù‚Ø·Ø¹</h1>

    <div class="price-row">
      <span id="product-price" class="price">749 Ø¬</span>
      <span id="product-old-price" class="old-price">949 Ø¬</span>
    </div>

    <p id="product-desc" class="desc">
      Ø®Ø§Ù…Ø© Ø±ÙˆØ²Ø§Ù„ÙŠÙ† Ù…Ø³ØªÙˆØ±Ø¯Ø© Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© â€“ ÙˆØ§Ù† Ø³Ø§ÙŠØ² ØªÙ„Ø¨ÙŠØ³ Ù…Ù† 60 Ø­ØªÙ‰ 95 ÙƒÙŠÙ„Ùˆ ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§. Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ 3 Ù‚Ø·Ø¹ Ø¬Ø§Ù‡Ø²Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø¨Ø³.
    </p>

    <h2 class="section-title">Ø§Ø®ØªØ§Ø±ÙŠ Ø§Ù„Ù„ÙˆÙ†</h2>
    <div id="color-container" class="colors-row"></div>

    <div class="qty-row">
      <span>Ø§Ù„ÙƒÙ…ÙŠØ©</span>
      <div class="qty-controls">
        <button type="button" class="qty-btn" id="qty-minus">-</button>
        <div id="qty-value" class="qty-value">1</div>
        <button type="button" class="qty-btn" id="qty-plus">+</button>
      </div>
    </div>

    <button id="add-to-cart" class="add-btn">
      ğŸ›’ Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
    </button>
  </div>
</main>

<footer>
  Ù„Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª ÙˆØ§ØªØ³Ø§Ø¨:
  <a href="https://wa.me/2010209942139" target="_blank">010209942139</a>
</footer>

<div id="toast" class="toast"></div>

<audio id="add-sound">
  <source src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg" type="audio/ogg">
</audio>

<script>
  // Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ Ù…ÙˆØ¯ÙŠÙ„ (Ù„Ùˆ Ø­Ø¨ÙŠØª ØªØ¶ÙŠÙ Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø£Ø®Ø±Ù‰ Ø¨Ø¹Ø¯ÙŠÙ†)
  const PRODUCTS = {
    rozalin: {
      id: "rozalin",
      name: "Ø·Ù‚Ù… Ø±ÙˆØ²Ø§Ù„ÙŠÙ† 3 Ù‚Ø·Ø¹",
      price: 749,
      oldPrice: 949,
      mainImage: "rozalin-main.jpg",
      desc: "Ø®Ø§Ù…Ø© Ø±ÙˆØ²Ø§Ù„ÙŠÙ† Ù…Ø³ØªÙˆØ±Ø¯Ø© Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© â€“ ÙˆØ§Ù† Ø³Ø§ÙŠØ² ØªÙ„Ø¨ÙŠØ³ Ù…Ù† 60 Ø­ØªÙ‰ 95 ÙƒÙŠÙ„Ùˆ ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§. Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ 3 Ù‚Ø·Ø¹ Ø¬Ø§Ù‡Ø²Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø¨Ø³.",
      colors: [
        { id: "simon",   name: "Ø³ÙŠÙ…ÙˆÙ†",  hex: "#f6a9b6", image: "rozalin-simon.jpg" },
        { id: "black",   name: "Ø£Ø³ÙˆØ¯",   hex: "#000000", image: "rozalin-black.jpg" },
        { id: "olive",   name: "Ø²ÙŠØªÙŠ",   hex: "#567d46", image: "rozalin-zyti.jpg" },
        { id: "beige",   name: "Ø¨ÙŠØ¬",    hex: "#f1ddc1", image: "rozalin-beige.jpg" },
        { id: "coffee",  name: "ÙƒØ§ÙÙŠÙ‡",  hex: "#8b5a2b", image: "rozalin-kafeh.jpg" },
        { id: "purple",  name: "Ù…ÙˆÙ",    hex: "#9b59b6", image: "rozalin-mov.jpg" } // âœ… Ù„ÙˆÙ† Ø§Ù„Ù…ÙˆÙ Ù…Ø¶Ø§Ù Ù‡Ù†Ø§
      ]
    },

    formal: {
      id: "formal",
      name: "Ø·Ù‚Ù… ÙÙˆØ±Ù…Ø§Ù„ 3 Ù‚Ø·Ø¹",
      price: 699,
      oldPrice: 949,
      mainImage: "formal-main.jpg",
      desc: "Ø®Ø§Ù…Ø© Ø±ÙˆØ²Ø§Ù„ÙŠÙ† Ù…Ø³ØªÙˆØ±Ø¯ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© â€“ Ø·Ù‚Ù… ÙÙˆØ±Ù…Ø§Ù„ 3 Ù‚Ø·Ø¹ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø®Ø±ÙˆØ¬Ø§Øª ÙˆØ§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª.",
      colors: [
        { id: "ment",     name: "Ù…Ù†Øª",      hex: "#b2cfbe", image: "formal-ment.jpg" },
        { id: "babyblue", name: "Ø¨ÙŠØ¨ÙŠ Ø¨Ù„Ùˆ", hex: "#a3c4ff", image: "formal-babyblue.jpg" },
        { id: "beige",    name: "Ø¨ÙŠØ¬",      hex: "#e7d2b8", image: "formal-beige.jpg" },
        { id: "havan",    name: "Ù‡Ø§ÙØ§Ù†",    hex: "#b08b5b", image: "formal-havan.jpg" },
        { id: "black",    name: "Ø£Ø³ÙˆØ¯",     hex: "#000000", image: "formal-black.jpg" }
      ]
    },

    abaya: {
      id: "abaya",
      name: "Ø¹Ø¨Ø§ÙŠØ© Ø²Ø±Ø§ÙŠØ± ÙƒØ¨Ø³",
      price: 749,
      oldPrice: 1049,
      mainImage: "abaya-main.jpg",
      desc: "Ø¬ÙˆØ® Ù„ÙŠÙƒØ±Ø§ Ù…Ø³ØªÙˆØ±Ø¯ Ø¹Ø§Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ¯Ø© â€“ ÙˆØ§Ù† Ø³Ø§ÙŠØ² ØªÙ„Ø¨ÙŠØ³ Ù„Ø­Ø¯ 80 ÙƒÙŠÙ„Ùˆ Ù…Ø±ØªØ§Ø­.",
      colors: [
        { id: "black",    name: "Ø£Ø³ÙˆØ¯",        hex: "#000000", image: "abaya-black.jpg" },
        { id: "green",    name: "Ø£Ø®Ø¶Ø±",        hex: "#6b8f71", image: "abaya-green.jpg" },
        { id: "caramel",  name: "ÙƒØ§Ø±Ø§Ù…ÙŠÙ„",     hex: "#c58b55", image: "abaya-caramel.jpg" },
        { id: "burgundy", name: "Ù†Ø¨ÙŠØªÙŠ ØºØ§Ù…Ù‚",  hex: "#5b0625", image: "abaya-burgundy.jpg" },
        { id: "lightgray",name: "Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­",  hex: "#d4d4d8", image: "abaya-lightgray.jpg" },
        { id: "darkgray", name: "Ø±Ù…Ø§Ø¯ÙŠ ØºØ§Ù…Ù‚",  hex: "#4b5563", image: "abaya-darkgray.jpg" }
      ]
    },

    toonz: {
      id: "toonz",
      name: "ØªÙˆÙ†Ø² Ù‚Ø·Ø¹ØªÙŠÙ†",
      price: 799,
      oldPrice: 1199,
      mainImage: "toonz-main.jpg",
      desc: "ØªÙˆÙ†Ø² Ù‚Ø·Ø¹ØªÙŠÙ† Ø´Ù…ÙˆØ§Ù‡ ÙÙŠ Ø´Ù…ÙˆØ§Ù‡ â€“ Ø³Ø§ÙŠØ² Ù…Ù† 60 Ù„Ø­Ø¯ 90 ÙƒÙŠÙ„Ùˆ Ù…Ø±ØªØ§Ø­.",
      colors: [
        { id: "beige",  name: "Ø¨ÙŠØ¬",     hex: "#e7d2b8", image: "toonz-beige.jpg" },
        { id: "olive",  name: "Ø²ÙŠØªÙŠ",    hex: "#567d46", image: "toonz-olive.jpg" },
        { id: "pink",   name: "Ø¨ÙŠÙ†Ùƒ",    hex: "#f472b6", image: "toonz-pink.jpg" },
        { id: "purple", name: "Ù…ÙˆÙ",     hex: "#6d28d9", image: "toonz-purple.jpg" },
        { id: "wine",   name: "Ù†Ø¨ÙŠØªÙŠ",   hex: "#7f1d1d", image: "toonz-wine.jpg" }
      ]
    }
  };

  // Ù‚Ø±Ø§Ø¡Ø© Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙØ­Ø© ?product=rozalin Ù…Ø«Ù„Ø§Ù‹
  const urlParams = new URLSearchParams(window.location.search);
  const productKey = urlParams.get("product") || "rozalin";
  const product = PRODUCTS[productKey] || PRODUCTS["rozalin"];

  const imgEl   = document.getElementById("product-image");
  const nameEl  = document.getElementById("product-name");
  const priceEl = document.getElementById("product-price");
  const oldEl   = document.getElementById("product-old-price");
  const descEl  = document.getElementById("product-desc");
  const colorsContainer = document.getElementById("color-container");

  nameEl.textContent  = product.name;
  priceEl.textContent = product.price + " Ø¬";
  oldEl.textContent   = product.oldPrice + " Ø¬";
  descEl.textContent  = product.desc;
  imgEl.src           = product.mainImage;

  let selectedColor = null;

  function renderColors() {
    colorsContainer.innerHTML = "";
    product.colors.forEach((color, index) => {
      const dot = document.createElement("button");
      dot.type = "button";
      dot.className = "color-dot";
      dot.dataset.colorId = color.id;

      const inner = document.createElement("div");
      inner.className = "color-inner";
      inner.style.background = color.hex;
      dot.appendChild(inner);

      dot.addEventListener("click", () => {
        document
          .querySelectorAll(".color-dot")
          .forEach(d => d.classList.remove("selected"));
        dot.classList.add("selected");
        selectedColor = color;
        imgEl.src = color.image || product.mainImage;
      });

      if (index === 0) {
        // Ø£ÙˆÙ„ Ù„ÙˆÙ† Ù…Ø®ØªØ§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§
        selectedColor = color;
        dot.classList.add("selected");
        imgEl.src = color.image || product.mainImage;
      }

      colorsContainer.appendChild(dot);
    });
  }

  renderColors();

  // Ø§Ù„ÙƒÙ…ÙŠØ©
  const qtyMinus = document.getElementById("qty-minus");
  const qtyPlus  = document.getElementById("qty-plus");
  const qtyValue = document.getElementById("qty-value");

  qtyMinus.addEventListener("click", () => {
    let q = parseInt(qtyValue.textContent, 10) || 1;
    if (q > 1) q--;
    qtyValue.textContent = q;
  });

  qtyPlus.addEventListener("click", () => {
    let q = parseInt(qtyValue.textContent, 10) || 1;
    q++;
    qtyValue.textContent = q;
  });

  // ØªÙˆØ³Øª + ØµÙˆØª
  const toastEl = document.getElementById("toast");
  const soundEl = document.getElementById("add-sound");

  function showToast(message, bgColor = "#111827") {
    toastEl.textContent = message;
    toastEl.style.background = bgColor;
    toastEl.classList.add("show");
    try {
      soundEl.currentTime = 0;
      soundEl.play().catch(() => {});
    } catch (e) {}

    setTimeout(() => {
      toastEl.classList.remove("show");
    }, 1600);
  }

  function getCart() {
    try {
      return JSON.parse(localStorage.getItem("cart") || "[]");
    } catch {
      return [];
    }
  }

  function saveCart(cart) {
    localStorage.setItem("cart", JSON.stringify(cart));
  }

  // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©
  document.getElementById("add-to-cart").addEventListener("click", () => {
    const qty = parseInt(qtyValue.textContent, 10) || 1;

    if (!selectedColor) {
      showToast("Ø§Ø®ØªØ§Ø±ÙŠ Ù„ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„ ğŸ™");
      return;
    }

    let cart = getCart();

    const existingIndex = cart.findIndex(
      item => item.id === product.id && item.colorId === selectedColor.id
    );

    if (existingIndex >= 0) {
      cart[existingIndex].quantity += qty;
    } else {
      cart.push({
        id: product.id,
        name: product.name,
        price: product.price,
        colorId: selectedColor.id,
        colorName: selectedColor.name,
        quantity: qty
      });
    }

    saveCart(cart);

    // Ø±Ø³Ø§Ù„Ø© Ø¨Ù†ÙØ³ Ù„ÙˆÙ† Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©
    showToast(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${qty} Ù…Ù† ${product.name} - ${selectedColor.name} Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© ğŸ¥°`, selectedColor.hex);
  });
</script>
</body>
</html>