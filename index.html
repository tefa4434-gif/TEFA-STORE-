<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>TEFA STORE | Ø£Ø·Ù‚Ù… Ø­Ø±ÙŠÙ…ÙŠ Ø¬Ø§Ù‡Ø²Ø©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Meta Ù„Ù„ÙÙŠØ³ Ø¨ÙˆÙƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) -->
  <meta property="og:title" content="TEFA STORE | Ø£Ø·Ù‚Ù… Ø­Ø±ÙŠÙ…ÙŠ Ø¬Ø§Ù‡Ø²Ø©">
  <meta property="og:description" content="Ø§Ø·Ù„Ø¨ÙŠ ÙˆØ§Ù†ØªÙ Ù…Ø·Ù…Ø¦Ù†Ø© ÙˆØ¹Ø§ÙŠÙ†ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… ğŸ¥°â¤ï¸ Ø®ØµÙ… 10Ùª Ù„Ø£ÙˆÙ„ Ø£ÙˆØ±Ø¯Ø± Ø¨ÙƒÙˆØ¯ TEFA4434">
  <meta property="og:image" content="https://tefa4434-gif.github.io/TEFA-STORE-/rozalin-main.jpg">
  <meta property="og:url" content="https://tefa4434-gif.github.io/TEFA-STORE-/">
  <meta property="og:type" content="website">
</head>

<body class="bg-gray-100 font-sans">

<!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
<header class="bg-white shadow p-4 flex justify-between items-center sticky top-0 z-50">
  <h1 class="text-2xl font-extrabold">TEFA STORE</h1>

  <div class="flex items-center gap-4">
    <!-- Ù„ÙŠÙ†Ùƒ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <a href="admin.html" class="hidden md:inline-block text-xs text-gray-500">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>

    <a href="cart.html" class="relative text-3xl">
      ğŸ›’
      <!-- Ø´Ø§Ø±Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹ -->
      <span id="cartCount"
            class="hidden absolute -top-2 -left-2 bg-red-600 text-white text-[10px] min-w-[18px] h-[18px] rounded-full flex items-center justify-center">
      </span>
    </a>
  </div>
</header>

<!-- Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ + Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ -->
<section class="bg-white p-6 text-center">
  <p class="text-lg text-gray-600 mb-2">
    Ù…ØªØ¬Ø± Ø£Ø·Ù‚Ù… Ø­Ø±ÙŠÙ…ÙŠ Ø±ÙˆØ²Ø§Ù„ÙŠÙ† Ùˆ ÙÙˆØ±Ù…Ø§Ù„
  </p>

  <h2 class="text-4xl font-extrabold mb-4 leading-snug">
    Ø£Ø·Ù‚Ù… Ø­Ø±ÙŠÙ…ÙŠ Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø®Ø±ÙˆØ¬Ø§Øª<br>ÙˆØ§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª
  </h2>

  <p class="text-xl font-semibold mb-2">
    Ø§Ø·Ù„Ø¨ ÙˆØ§Ù†Øª Ù…Ø·Ù…Ø¦Ù† ÙˆØ¹Ø§ÙŠÙ† Ø¨Ø±Ø§Ø­ØªÙƒ Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… ğŸ¥°â¤ï¸
  </p>

  <!-- ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ… Ù„Ù„ØªØ´Ø¬ÙŠØ¹ -->
  <p class="text-base md:text-lg text-green-700 font-bold mb-3">
    Ø®ØµÙ… 10Ùª Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ø£ÙˆØ±Ø¯Ø± Ø¨ÙƒÙˆØ¯: <span class="underline">TEFA4434</span> ğŸ
  </p>

  <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ø¯ÙˆØ¯ + Ø§Ù„Ø¹Ø¯Ø§Ø¯ -->
  <div class="mt-2 inline-flex flex-col items-center gap-2">
    <span class="inline-flex items-center gap-2 bg-red-600 text-white px-5 py-2 rounded-full font-bold text-sm">
      ğŸ”¥ Ø®ØµÙ… ÙƒØ¨ÙŠØ± Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø©
    </span>

    <div class="bg-black text-white rounded-2xl px-5 py-3 mt-2 inline-flex items-center gap-4 text-sm">
      <span class="font-semibold">ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„Ø¹Ø±Ø¶ Ø®Ù„Ø§Ù„:</span>
      <div class="flex gap-3">
        <div class="text-center">
          <div id="cd-days" class="text-xl font-extrabold">0</div>
          <div class="text-[11px]">ÙŠÙˆÙ…</div>
        </div>
        <div class="text-center">
          <div id="cd-hours" class="text-xl font-extrabold">0</div>
          <div class="text-[11px]">Ø³Ø§Ø¹Ø©</div>
        </div>
        <div class="text-center">
          <div id="cd-minutes" class="text-xl font-extrabold">0</div>
          <div class="text-[11px]">Ø¯Ù‚ÙŠÙ‚Ø©</div>
        </div>
        <div class="text-center">
          <div id="cd-seconds" class="text-xl font-extrabold">0</div>
          <div class="text-[11px]">Ø«Ø§Ù†ÙŠØ©</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Ù…Ù…ÙŠØ²Ø§Øª Ø³Ø±ÙŠØ¹Ø© -->
<section class="p-4 grid grid-cols-3 gap-3 text-center">
  <div class="bg-white p-3 rounded-xl shadow">
    âœ¨<br>
    <span class="font-bold text-xs md:text-sm">Ø®Ø§Ù…Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©</span>
  </div>
  <div class="bg-white p-3 rounded-xl shadow">
    ğŸ’³<br>
    <span class="font-bold text-xs md:text-sm">Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</span>
  </div>
  <div class="bg-white p-3 rounded-xl shadow">
    ğŸšš<br>
    <span class="font-bold text-xs md:text-sm">Ø´Ø­Ù† Ù„ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª</span>
  </div>
</section>

<!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (ØªÙØ¨Ù†Ù‰ Ø¨Ø§Ù„Ù€ JS Ù…Ù† Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© + Ø§Ù„Ù…Ø¶Ø§ÙØ© Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…) -->
<section class="p-4">
  <h3 class="text-3xl font-extrabold text-center mb-6">
    Ø§Ø®ØªØ§Ø±ÙŠ Ø§Ù„Ø·Ù‚Ù… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ âœ¨
  </h3>

  <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 gap-5">
    <!-- Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ù‡ØªØªÙˆÙ„Ø¯ Ø¨Ø§Ù„Ù€ JS -->
  </div>
</section>

<!-- ÙÙˆØªØ± Ø¨Ø³ÙŠØ· -->
<footer class="bg-black text-white text-center p-4 mt-6 text-sm">
  <p class="font-bold mb-1">TEFA STORE</p>
  <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2025</p>
</footer>

<script>
  // ====== Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ© Ø«Ø§Ø¨ØªØ© (Ø§Ù„Ø£Ø±Ø¨Ø¹Ø© Ø§Ù„Ù„ÙŠ Ø¹Ù†Ø¯Ùƒ) ======
  const BASE_PRODUCTS = [
    {
      id: "rozalin",
      name: "Ø·Ù‚Ù… Ø±ÙˆØ²Ø§Ù„ÙŠÙ† 3 Ù‚Ø·Ø¹",
      desc: "Ø®Ø§Ù…Ø© Ø±ÙˆØ²Ø§Ù„ÙŠÙ† â€“ ÙˆØ§Ù† Ø³Ø§ÙŠØ² 60â€“95 Ùƒ",
      price: 749,
      oldPrice: 999,
      img: "rozalin-main.jpg"
    },
    {
      id: "formal",
      name: "Ø·Ù‚Ù… ÙÙˆØ±Ù…Ø§Ù„ 3 Ù‚Ø·Ø¹",
      desc: "Ø³ØªØ§ÙŠÙ„ ÙÙˆØ±Ù…Ø§Ù„ Ø£Ù†ÙŠÙ‚",
      price: 699,
      oldPrice: 949,
      img: "formal-main.jpg"
    },
    {
      id: "toonz",
      name: "ØªÙˆÙ†Ø² â€“ Ù‚Ø·Ø¹ØªÙŠÙ†",
      desc: "Ø´Ù…ÙˆØ§Ù‡ Ã— Ø´Ù…ÙˆØ§Ù‡ â€“ Ø´ØªÙˆÙŠ Ø´ÙŠÙƒ",
      price: 799,
      oldPrice: 1199,
      img: "toonz-main.jpg"
    },
    {
      id: "abaya_btn",
      name: "Ø¹Ø¨Ø§ÙŠØ© Ø²Ø±Ø§ÙŠØ± ÙƒØ¨Ø³",
      desc: "Ø¬ÙˆØ® Ù„ÙŠÙƒØ±Ø§ â€“ Ø´ØªÙˆÙŠ Ø£Ù†ÙŠÙ‚",
      price: 749,
      oldPrice: 1049,
      img: "abaya-btn-main.jpg"
    }
  ];

  // ====== Ù…ÙˆØ¯ÙŠÙ„Ø§Øª Ù…Ø¶Ø§ÙØ© Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ======
  function loadHomeModels() {
    try {
      return JSON.parse(localStorage.getItem("homeModels") || "[]");
    } catch (e) {
      return [];
    }
  }

  function renderProductsGrid() {
    const grid = document.getElementById("productsGrid");
    grid.innerHTML = "";

    const extra = loadHomeModels();   // Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
    const all = [...BASE_PRODUCTS, ...extra];

    all.forEach(p => {
      const card = document.createElement("a");
      card.className = "bg-white p-3 rounded-3xl shadow text-center hover:shadow-lg transition";
      card.href = p.id ? `product.html?id=${p.id}` : "#";

      card.innerHTML = `
        <img src="${p.img}"
             alt="${p.name}"
             class="w-full aspect-[3/4] object-cover rounded-2xl mb-3">
        <h4 class="text-xl font-semibold mb-1">${p.name}</h4>
        <p class="text-sm text-gray-600 mb-1">${p.desc || ""}</p>
        ${p.oldPrice ? `<p class="line-through text-gray-400 text-sm">${p.oldPrice} Ø¬</p>` : ""}
        <span class="text-4xl font-extrabold text-black">${p.price} Ø¬</span>
      `;
      grid.appendChild(card);
    });
  }

  (function () {
    // ====== Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²ÙˆØ§Ø± (Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­ ÙÙ‚Ø·) ======
    const viewsKey = "store_total_views";
    let v = parseInt(localStorage.getItem(viewsKey) || "0", 10) || 0;
    v++;
    localStorage.setItem(viewsKey, v);

    // ====== Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ ======
    const saleKey = "store_sale_end";
    let end = localStorage.getItem(saleKey);

    if (!end) {
      const now = new Date();
      now.setDate(now.getDate() + 3); // 3 Ø£ÙŠØ§Ù… Ù…Ù† Ø§Ù„Ø¢Ù†
      end = now.getTime();
      localStorage.setItem(saleKey, String(end));
    } else {
      end = parseInt(end, 10);
    }

    const endTime = end;

    const daysEl    = document.getElementById("cd-days");
    const hoursEl   = document.getElementById("cd-hours");
    const minsEl    = document.getElementById("cd-minutes");
    const secsEl    = document.getElementById("cd-seconds");

    function updateCountdown() {
      const now = Date.now();
      let diff = endTime - now;

      if (diff <= 0) {
        daysEl.textContent  = "0";
        hoursEl.textContent = "0";
        minsEl.textContent  = "0";
        secsEl.textContent  = "0";
        return;
      }

      const sec  = 1000;
      const min  = sec * 60;
      const hour = min * 60;
      const day  = hour * 24;

      const d = Math.floor(diff / day);
      diff   %= day;
      const h = Math.floor(diff / hour);
      diff   %= hour;
      const m = Math.floor(diff / min);
      diff   %= min;
      const s = Math.floor(diff / sec);

      daysEl.textContent  = d;
      hoursEl.textContent = h.toString().padStart(2, "0");
      minsEl.textContent  = m.toString().padStart(2, "0");
      secsEl.textContent  = s.toString().padStart(2, "0");
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);

    // ====== Ø´Ø§Ø±Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹ ÙÙŠ Ø§Ù„Ø³Ù„Ø© ======
    function updateCartCount() {
      let count = 0;
      try {
        const cart = JSON.parse(localStorage.getItem("cart") || "[]");
        cart.forEach(item => {
          count += item.qty || 0;
        });
      } catch(e) {}
      const badge = document.getElementById("cartCount");
      if (!badge) return;
      if (count > 0) {
        badge.textContent = count;
        badge.classList.remove("hidden");
      } else {
        badge.classList.add("hidden");
      }
    }

    updateCartCount();
    window.addEventListener("storage", (e) => {
      if (e.key === "cart") updateCartCount();
    });

    // Ø±Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
    renderProductsGrid();
  })();
</script>

</body>
</html>